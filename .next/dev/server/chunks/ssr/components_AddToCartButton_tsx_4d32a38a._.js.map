{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Pasca%20Kuliah/Self%20Improvement/RevoU/Software%20Engineering/Assignments/Mock%20up%20Assignments/Assignment%204/revoshop/components/AddToCartButton.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { ShoppingCart } from 'lucide-react'\r\nimport { useCart } from '@/app/providers/CartProvider'\r\nimport { useToast } from '@/app/providers/ToastProvider'\r\n\r\ninterface AddToCartButtonProps {\r\n  productId: number\r\n  productName: string\r\n  productPrice: number\r\n  productImage: string\r\n}\r\n\r\nexport default function AddToCartButton({ \r\n  productId, \r\n  productName, \r\n  productPrice,\r\n  productImage\r\n}: AddToCartButtonProps) {\r\n  const [quantity, setQuantity] = useState(1)\r\n  const [isAdding, setIsAdding] = useState(false)\r\n  const { addToCart } = useCart()\r\n  const { showToast } = useToast()\r\n\r\n  const handleAddToCart = async () => {\r\n    setIsAdding(true)\r\n    \r\n    // Add all items at once with quantity\r\n    addToCart({\r\n      id: productId,\r\n      title: productName,\r\n      price: productPrice,\r\n      image: productImage\r\n    }, quantity)\r\n    \r\n    // Show success feedback using toast\r\n    showToast(\r\n      `Added ${quantity} ${productName}${quantity > 1 ? '(s)' : ''} to cart!`,\r\n      'success'\r\n    )\r\n    \r\n    // Reset\r\n    setIsAdding(false)\r\n    setQuantity(1)\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center space-x-4\">\r\n        <label className=\"font-medium text-gray-200\">Quantity:</label>\r\n        <div className=\"flex items-center border border-[#bdc3c7] rounded-lg\">\r\n          <button\r\n            onClick={() => setQuantity(q => Math.max(1, q - 1))}\r\n            className=\"px-3 py-2 hover:bg-gray-100 rounded-l-lg transition-colors text-gray-200\"\r\n            disabled={isAdding}\r\n          >\r\n            -\r\n          </button>\r\n          <span className=\"px-4 py-2 min-w-[3rem] text-center border-x border-[#bdc3c7] text-gray-200\">\r\n            {quantity}\r\n          </span>\r\n          <button\r\n            onClick={() => setQuantity(q => q + 1)}\r\n            className=\"px-3 py-2 hover:bg-gray-100 rounded-r-lg transition-colors text-gray-200\"\r\n            disabled={isAdding}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <button\r\n        onClick={handleAddToCart}\r\n        disabled={isAdding}\r\n        className=\"w-full bg-[#e74c3c] text-white py-3 px-6 rounded-lg font-semibold hover:bg-[#c0392b] transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md\"\r\n      >\r\n        {isAdding ? (\r\n          <>\r\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n            <span>Adding to Cart...</span>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <ShoppingCart className=\"h-5 w-5\" />\r\n            <span>Add {quantity} to Cart</span>\r\n          </>\r\n        )}\r\n      </button>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAce,SAAS,gBAAgB,EACtC,SAAS,EACT,WAAW,EACX,YAAY,EACZ,YAAY,EACS;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,4IAAO;IAC7B,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,8IAAQ;IAE9B,MAAM,kBAAkB;QACtB,YAAY;QAEZ,sCAAsC;QACtC,UAAU;YACR,IAAI;YACJ,OAAO;YACP,OAAO;YACP,OAAO;QACT,GAAG;QAEH,oCAAoC;QACpC,UACE,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,cAAc,WAAW,IAAI,QAAQ,GAAG,SAAS,CAAC,EACvE;QAGF,QAAQ;QACR,YAAY;QACZ,YAAY;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAA4B;;;;;;kCAC7C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,IAAM,YAAY,CAAA,IAAK,KAAK,GAAG,CAAC,GAAG,IAAI;gCAChD,WAAU;gCACV,UAAU;0CACX;;;;;;0CAGD,8OAAC;gCAAK,WAAU;0CACb;;;;;;0CAEH,8OAAC;gCACC,SAAS,IAAM,YAAY,CAAA,IAAK,IAAI;gCACpC,WAAU;gCACV,UAAU;0CACX;;;;;;;;;;;;;;;;;;0BAKL,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAU;0BAET,yBACC;;sCACE,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;sCAAK;;;;;;;iDAGR;;sCACE,8OAAC,sOAAY;4BAAC,WAAU;;;;;;sCACxB,8OAAC;;gCAAK;gCAAK;gCAAS;;;;;;;;;;;;;;;;;;;;AAMhC"}}]
}